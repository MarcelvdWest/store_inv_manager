(this.webpackJsonpstore_inv_manager=this.webpackJsonpstore_inv_manager||[]).push([[0],{58:function(e,t,r){},59:function(e,t,r){},87:function(e,t,r){},88:function(e,t,r){},90:function(e,t,r){},91:function(e,t,r){"use strict";r.r(t);var n=r(2),s=r.n(n),c=r(17),a=r.n(c),i=(r(58),r(12)),o=r(13),l=r(15),h=r(14),j=(r(59),r(98)),d=r(99),u=r(11),m=r(4),b={item:"",qty:0,price:0},O=function(e){Object(l.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).handleItemChange=function(e){b.item=e.target.value,console.log(b.item)},e.handleQtyChange=function(e){b.qty=e.target.value,console.log(b.qty)},e.handlePriceChange=function(e){b.price=e.target.value,console.log(b.price)},e.handleEnter=function(t){"Enter"===t.key&&e.props.onSubmitItems(b)},e.onButtonPress=function(){e.props.onSubmitItems(b)},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this.props,t=e.error,r=e.msg;return Object(m.jsxs)("div",{children:["true"===t.status?Object(m.jsxs)("center",{children:[Object(m.jsx)(u.h,{tag:"h2",children:"Add New Items"}),Object(m.jsx)(u.h,{tag:"h5",className:"error",children:t.msg})]}):""!==r?Object(m.jsxs)("center",{children:[Object(m.jsx)(u.h,{tag:"h2",children:"Add New Items"}),Object(m.jsx)(u.h,{tag:"h5",children:r})]}):Object(m.jsx)("center",{children:Object(m.jsx)(u.h,{tag:"h2",className:"innitialAddHeading",children:"Add New Items"})}),Object(m.jsxs)(j.a,{children:[Object(m.jsxs)(j.a.Group,{children:[Object(m.jsx)(j.a.Label,{htmlFor:"item",children:"Item: "}),Object(m.jsxs)(j.a.Control,{as:"select",id:"item",onChange:this.handleItemChange,custom:!0,children:[Object(m.jsx)("option",{value:"0",children:"PRODUCT 1"}),Object(m.jsx)("option",{value:"1",children:"PRODUCT 2"}),Object(m.jsx)("option",{value:"2",children:"PRODUCT 3"})]})]}),Object(m.jsxs)(j.a.Group,{children:[Object(m.jsx)(j.a.Label,{htmlFor:"qty",children:"Qty: "}),Object(m.jsx)(j.a.Control,{type:"number",id:"qty",onChange:this.handleQtyChange,onKeyPress:this.handleEnter,autoComplete:"off"})]}),Object(m.jsxs)(j.a.Group,{children:[Object(m.jsx)(j.a.Label,{htmlFor:"price",children:"Price per Item: "}),Object(m.jsx)(j.a.Control,{type:"number",id:"price",onChange:this.handlePriceChange,onKeyPress:this.handleEnter,autoComplete:"off"})]}),Object(m.jsx)(d.a,{variant:"secondary",type:"button",onClick:this.onButtonPress,children:"Add Items"})]})]})}}]),r}(n.Component),x=(r(87),{email:"",item:"",qty:0}),g=function(e){Object(l.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).handleEmailChange=function(e){x.email=e.target.value,console.log(x.email)},e.handleItemChange=function(e){x.item=e.target.value,console.log(x.item)},e.handleQtyChange=function(e){x.qty=e.target.value,console.log(x.qty)},e.handleEnter=function(t){"Enter"===t.key&&e.props.onSubmitOrder(x)},e.onButtonPress=function(){e.props.onSubmitOrder(x)},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this.props,t=e.error,r=e.msg,n=e.stateItems;return Object(m.jsxs)("div",{children:["true"===t.status?Object(m.jsxs)("center",{children:[Object(m.jsx)(u.h,{tag:"h2",children:"Buy Items"}),Object(m.jsx)(u.h,{tag:"h5",className:"error",children:t.msg})]}):""!==r?Object(m.jsxs)("center",{children:[Object(m.jsx)(u.h,{tag:"h2",children:"Buy Items"}),Object(m.jsx)(u.h,{tag:"h5",children:r})]}):Object(m.jsx)("center",{children:Object(m.jsx)(u.h,{tag:"h2",className:"innitialAddHeading",children:"Buy Items"})}),Object(m.jsxs)(j.a,{children:[Object(m.jsxs)(j.a.Group,{children:[Object(m.jsx)(j.a.Label,{htmlFor:"email",children:"Email: "}),Object(m.jsx)(j.a.Control,{type:"email",id:"email",onChange:this.handleEmailChange,onKeyPress:this.handleEnter})]}),Object(m.jsxs)(j.a.Group,{children:[Object(m.jsx)(j.a.Label,{htmlFor:"item",children:"Item: "}),Object(m.jsxs)(j.a.Control,{as:"select",id:"item",onChange:this.handleItemChange,custom:!0,children:[Object(m.jsx)("option",{value:"0",children:"PRODUCT 1 - Price: R"+n[0].avrPrice+" Stock: "+n[0].qty}),Object(m.jsx)("option",{value:"1",children:"PRODUCT 2 - Price: R"+n[1].avrPrice+" Stock: "+n[1].qty}),Object(m.jsx)("option",{value:"2",children:"PRODUCT 3 - Price: R"+n[2].avrPrice+" Stock: "+n[2].qty})]})]}),Object(m.jsxs)(j.a.Group,{children:[Object(m.jsx)(j.a.Label,{htmlFor:"qty",children:"Qty: "}),Object(m.jsx)(j.a.Control,{type:"number",id:"qty",onChange:this.handleQtyChange,onKeyPress:this.handleEnter,autoComplete:"off"})]}),Object(m.jsx)(d.a,{variant:"secondary",type:"button",onClick:this.onButtonPress,children:"Buy Items"})]})]})}}]),r}(n.Component),y=(r(88),r(96)),v=function(e){Object(l.a)(r,e);var t=Object(h.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){var e=this.props.stateItems;return Object(m.jsxs)("div",{children:[Object(m.jsx)("center",{children:Object(m.jsx)(u.h,{tag:"h2",children:"Stock Table"})}),Object(m.jsxs)(y.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{}),Object(m.jsx)("th",{children:"Product"}),Object(m.jsx)("th",{children:"Qty"}),Object(m.jsx)("th",{children:"Price"})]})}),Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"1"}),Object(m.jsx)("td",{children:"PRODUCT 1"}),Object(m.jsx)("td",{children:e[0].qty}),Object(m.jsx)("td",{children:"R "+e[0].avrPrice.toFixed(2)})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"2"}),Object(m.jsx)("td",{children:"PRODUCT 2"}),Object(m.jsx)("td",{children:e[1].qty}),Object(m.jsx)("td",{children:"R "+e[1].avrPrice.toFixed(2)})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"3"}),Object(m.jsx)("td",{children:"PRODUCT 3"}),Object(m.jsx)("td",{children:e[2].qty}),Object(m.jsx)("td",{children:"R "+e[2].avrPrice.toFixed(2)})]})]})]})]})}}]),r}(n.Component),p=(r(89),r(97)),f=(r(90),{stateItems:[{item:"0",qty:0,avrPrice:0,count:0},{item:"1",qty:0,avrPrice:0,count:0},{item:"2",qty:0,avrPrice:0,count:0}],emails:["test"],error:{msg:"",status:"false"},msg:"",loc:"AddStock"}),C=function(e){Object(l.a)(r,e);var t=Object(h.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).onSubmitItems=function(t){var r=e.state.stateItems;if(t.qty>0&&t.price>0){var n=r[Number(t.item)].qty,s=Number(n)+Number(t.qty);r[Number(t.item)].qty=s;var c=r[Number(t.item)].avrPrice,a=r[Number(t.item)].count,i=(Number(c)*Number(a)+Number(t.price)*Number(t.qty))/(Number(a)+Number(t.qty));r[Number(t.item)].avrPrice=i,r[Number(t.item)].count=Number(a)+Number(t.qty),e.setState({stateItems:r,msg:t.qty+" Items added successfully",error:{status:"false"}})}else t.qty<0?e.setState({error:{msg:"The qty must be larger than zero",status:"true"}}):e.setState({error:{msg:"The price must be larger than zero",status:"true"}})},e.onSubmitOrder=function(t){var r=e.state,n=r.stateItems,s=r.emails;if(""===t.email)e.setState({error:{msg:"You must enter a email address",status:"true"}});else if(t.email.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/))if(s.includes(t.email))e.setState({error:{msg:"You have already made a purchase",status:"true"}});else if(t.qty>0)if(n[Number(t.item)]<t.qty)e.setState({error:{msg:"There is currently not enough stock of that item",status:"true"}});else{s.push(t.email);var c=n[Number(t.item)].qty,a=Number(c)-t.qty;n[Number(t.item)].qty=a,e.setState({stateItems:n,msg:"Your total cost is R "+t.qty*n[Number(t.item)].avrPrice,error:{status:"false"}})}else e.setState({error:{msg:"The qty must be larger than zero",status:"true"}});else e.setState({error:{msg:"That is not a valid email address",status:"true"}})},e.changeLocation=function(t){var r=t.target.id;e.setState({loc:r})},e.state=f,e}return Object(o.a)(r,[{key:"render",value:function(){var e=this.state,t=e.error,r=e.msg,n=e.loc,s=e.stateItems;return Object(m.jsxs)("div",{children:[Object(m.jsx)("center",{className:"mainHeading",children:Object(m.jsx)(u.h,{tag:"h1",variant:"display-1",children:"Corner Store"})}),Object(m.jsxs)(p.a,{variant:"dark",bg:"dark",className:"row justify-content-center nav",children:[Object(m.jsx)(d.a,{variant:"secondary",className:"navBtn",id:"AddStock",onClick:this.changeLocation,children:"Add Stock"}),Object(m.jsx)(d.a,{variant:"secondary",className:"navBtn",id:"BuyItems",onClick:this.changeLocation,children:"Buy Items"}),Object(m.jsx)(d.a,{variant:"secondary",className:"navBtn",id:"ViewStock",onClick:this.changeLocation,children:"View Stock"})]}),"AddStock"===n?Object(m.jsx)(O,{onSubmitItems:this.onSubmitItems,error:t,msg:r}):"BuyItems"===n?Object(m.jsx)(g,{onSubmitOrder:this.onSubmitOrder,error:t,msg:r,stateItems:s}):Object(m.jsx)(v,{stateItems:s})]})}}]),r}(n.Component),P=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,100)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;r(e),n(e),s(e),c(e),a(e)}))};a.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root")),P()}},[[91,1,2]]]);
//# sourceMappingURL=main.0add89d3.chunk.js.map